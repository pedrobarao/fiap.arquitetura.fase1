<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\dev\fiap-net\fiap.arquitetura.fase1\src\Fase1.Contatos.Api\Controllers\CustomBaseController.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Microsoft.AspNetCore.Mvc;

namespace Fase1.Contatos.Api.Controllers;

[ApiController]
public abstract class CustomBaseController : ControllerBase
{
    protected ICollection&lt;string&gt; Errors = new List&lt;string&gt;();

    protected ActionResult Respond(ObjectResult? result = null)
    {
        if (!IsValidOperation())
            return BadRequest(new ValidationProblemDetails(new Dictionary&lt;string, string[]&gt;
            {
                { &quot;details&quot;, Errors.ToArray() }
            }));

        if (result is null) return NoContent();

        return result;
    }

    private bool IsValidOperation()
    {
        return !Errors.Any();
    }

    protected void AddError(string erro)
    {
        Errors.Add(erro);
    }

    protected void AddErrors(ICollection&lt;string&gt; errors)
    {
        foreach (var error in errors) AddError(error);
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[8,5,8,63,1],[11,5,11,6,1],[12,9,12,33,1],[13,13,16,17,1],[18,9,18,28,1],[18,29,18,48,1],[20,9,20,23,1],[21,5,21,6,1],[24,5,24,6,1],[25,9,25,30,1],[26,5,26,6,1],[29,5,29,6,1],[30,9,30,26,1],[31,5,31,6,1],[34,5,34,6,1],[35,9,35,16,1],[35,18,35,27,1],[35,28,35,30,1],[35,31,35,37,1],[35,39,35,55,1],[36,5,36,6,1]]);
    </script>
  </body>
</html>